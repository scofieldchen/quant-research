# Quant-Research: é«˜æ€§èƒ½é‡åŒ–ç ”ç©¶ä¸æ•°æ®å·¥ç¨‹é¡¹ç›®

è¿™æ˜¯ä¸€ä¸ªä¸“æ³¨äºåŠ å¯†è´§å¸å¸‚åœºçš„é‡åŒ–ç ”ç©¶æ¡†æ¶ï¼Œæ¶µç›–äº†ä»**é«˜å¹¶å‘æ•°æ®å·¥ç¨‹**åˆ°**æ·±åº¦é‡åŒ–ç­–ç•¥åˆ†æ**çš„å…¨æµç¨‹å®ç°ã€‚æœ¬é¡¹ç›®æ—¨åœ¨é€šè¿‡ç°ä»£åŒ–çš„å·¥å…·é“¾ï¼ˆPython 3.10+, DuckDB, Marimoï¼‰æ„å»ºä¸€ä¸ªç”Ÿäº§çº§çš„é‡åŒ–ç ”ç©¶ç¯å¢ƒã€‚

## ğŸš€ æ ¸å¿ƒå†…å®¹

### 1. æ•°æ®å·¥ç¨‹
- **é«˜æ€§èƒ½ ETL ç®¡é“**: åŸºäº `ccxt` å’Œ `yfinance` æ„å»ºçš„å¤šçº¿ç¨‹æ•°æ®æŠ“å–ç³»ç»Ÿï¼Œæ”¯æŒ Binance å…¨é‡ K çº¿ä¸ Ticker æ•°æ®çš„è‡ªåŠ¨åŒ–å›å¡«ä¸å¢é‡æ›´æ–°ã€‚
- **å¤šæºæ•°æ®é›†æˆ**: æˆåŠŸæ•´åˆ Binance (äº¤æ˜“æ•°æ®)ã€CoinGecko (å¸‚å€¼æ•°æ®) åŠ BGeometrics (é“¾ä¸ŠæŒ‡æ ‡)ï¼Œå®ç°è·¨ç»´åº¦æ•°æ®çš„å…³è”åˆ†æã€‚
- **ç°ä»£å­˜å‚¨æ¶æ„**: é‡‡ç”¨ Hive åˆ†åŒºæ¨¡å¼çš„ `Parquet` æ–‡ä»¶å­˜å‚¨ï¼Œç»“åˆ `DuckDB` å®ç°è¶…å¤§è§„æ¨¡æ•°æ®é›†ï¼ˆåƒä¸‡çº§è¡Œï¼‰çš„ç§’çº§åˆ†ææŸ¥è¯¢ã€‚
- **å¥å£®æ€§è®¾è®¡**: æ·±åº¦é›†æˆ `tenacity` é‡è¯•æœºåˆ¶ä¸ `loguru` æ—¥å¿—ç³»ç»Ÿï¼Œç¡®ä¿åœ¨å¤æ‚ç½‘ç»œç¯å¢ƒä¸‹çš„æ•°æ®é‡‡é›†ç¨³å®šæ€§ã€‚

### 2. é‡åŒ–åˆ†æä¸å»ºæ¨¡
- **å¸‚åœºå¹¿åº¦æ¨¡å‹ (Market Breadth)**: å®æ—¶è®¡ç®—å…¨å¸‚åœºå‡çº¿ä»¥ä¸Šå æ¯”ï¼ˆ% Above MAï¼‰ä¸è…¾è½çº¿ï¼ˆA/D Lineï¼‰ï¼Œé‡åŒ–å¸‚åœºæ•´ä½“æƒ…ç»ªä¸è¶‹åŠ¿å¥åº·åº¦ã€‚
- **é“¾ä¸ŠæŒ‡æ ‡åˆ†æ**: è‡ªåŠ¨åŒ–è·Ÿè¸ª STH-MVRVï¼ˆçŸ­æœŸæŒæœ‰è€…å¸‚å€¼å®ç°æ¯”ï¼‰ã€SOPR ç­‰æ ¸å¿ƒé“¾ä¸ŠæŒ‡æ ‡ï¼Œæ•æ‰å¸‚åœºåº•éƒ¨ä¸é¡¶éƒ¨çš„æç«¯æƒ…ç»ªã€‚
- **äº¤äº’å¼ç ”ç©¶ç¯å¢ƒ**: ä½¿ç”¨ `Marimo` å“åº”å¼ Notebook æ„å»ºå¯è§†åŒ–åˆ†æå·¥å…·ï¼Œæ”¯æŒå‚æ•°åŠ¨æ€è°ƒæ•´ä¸å®æ—¶å›¾è¡¨åé¦ˆã€‚

### 3. ç³»ç»Ÿå¼€å‘ä¸å·¥ç¨‹åŒ–
- **æ¨¡å—åŒ–æ¶æ„**: ä¸¥æ ¼éµå¾ª `src/core` (æ ¸å¿ƒé€»è¾‘) ä¸ `src/pipelines` (ä»»åŠ¡ç¼–æ’) çš„è§£è€¦è®¾è®¡ï¼Œå…·å¤‡æå¼ºçš„å¯æ‰©å±•æ€§ã€‚
- **ç°ä»£å·¥å…·é“¾**: ä½¿ç”¨ `uv` ä½œä¸ºç»Ÿä¸€çš„åŒ…ç®¡ç†å’Œå·¥ä½œæµå·¥å…·ï¼Œåˆ©ç”¨ Python 3.10+ çš„æ–°ç‰¹æ€§ï¼ˆå¦‚ç±»å‹æç¤ºã€é«˜æ€§èƒ½å†…ç½®åº“ï¼‰æå‡ä»£ç è´¨é‡ä¸è¿è¡Œæ•ˆç‡ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **è¯­è¨€**: Python 3.10+
- **æ•°æ®å¤„ç†**: Pandas, NumPy, DuckDB, PyArrow (Parquet)
- **å¯è§†åŒ–**: Altair, Plotly, Marimo (Reactive Notebooks)
- **åŸºç¡€è®¾æ–½**: `uv` (Package Manager), Tenacity (Retry), Loguru (Logging)
- **API é›†æˆ**: CCXT, YFinance, CoinGecko API, BGeometrics

## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
quant-research/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒç»„ä»¶ï¼ˆAPI å®¢æˆ·ç«¯ã€æ—¥å¿—ã€é€šç”¨å·¥å…·ï¼‰
â”‚   â””â”€â”€ pipelines/      # æ•°æ®ç®¡é“ï¼ˆBinance Kçº¿ã€é“¾ä¸ŠæŒ‡æ ‡ã€è¡Œæƒ…æ›´æ–°ï¼‰
â”œâ”€â”€ notebooks/          # é‡åŒ–ç ”ç©¶ï¼ˆå¸‚åœºå¹¿åº¦åˆ†æã€æŒ‡æ ‡æ¢ç´¢ï¼‰
â”œâ”€â”€ data/               # å¤šå±‚çº§å­˜å‚¨ï¼ˆRaw -> Cleaned -> Aggregatedï¼‰
â””â”€â”€ pyproject.toml      # é¡¹ç›®é…ç½®ä¸ä¾èµ–ç®¡ç†
```

## ğŸ“Š é‡ç‚¹é¡¹ç›®å±•ç¤º

### 1. å¸‚åœºå¹¿åº¦åˆ†æç³»ç»Ÿ (`notebooks/market_breadth`)
é€šè¿‡åˆ†æ Binance å‰ 100 å¸‚å€¼å¸ç§çš„ç›¸å¯¹å¼ºå¼±ï¼Œæ„å»ºå¸‚åœºæƒ…ç»ªæŒ‡æ ‡ã€‚
- **æŠ€æœ¯ç‚¹**: DuckDB çª—å£å‡½æ•°è®¡ç®—ã€Altair å¤åˆå›¾è¡¨å±•ç¤ºã€‚

### 2. è‡ªåŠ¨åŒ– K çº¿é‡‡é›†ç®¡é“ (`src/pipelines/binance_klines`)
æ”¯æŒå…¨å¸ç§ã€å¤šå‘¨æœŸçš„å†å²æ•°æ®å›å¡«ä¸å®æ—¶æ›´æ–°ã€‚
- **æŠ€æœ¯ç‚¹**: å¼‚æ­¥ä»»åŠ¡å¤„ç†ã€å¢é‡æ›´æ–°é€»è¾‘ã€å¼‚å¸¸å®¹é”™æœºåˆ¶ã€‚

## âš™ï¸ å¿«é€Ÿå¼€å§‹

æœ¬é¡¹ç›®ä½¿ç”¨ `uv` ç®¡ç†ï¼Œç¡®ä¿ç¯å¢ƒé«˜åº¦ä¸€è‡´ã€‚

1. **å®‰è£…ä¾èµ–**:
   ```bash
   uv sync
   ```

2. **è¿è¡Œæ•°æ®ç®¡é“**:
   ```bash
   # æ›´æ–° Binance K çº¿æ•°æ®
   uv run python -m src.pipelines.binance_klines.task
   ```

3. **å¯åŠ¨ç ”ç©¶ç¯å¢ƒ**:
   ```bash
   uv run marimo edit notebooks/market_breadth/analysis.py
   ```
